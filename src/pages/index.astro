---
import "../index.css"
import CardCours from "../components/CardCours.astro";
import { getCollection } from "astro:content";
import {css} from "../../styled-system/css";

const posts = (await getCollection("blog")).sort(
    (a,b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

---

<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
  </head>
  <body>
  <div class={css({
    display: "grid",
    padding: "1rem",
    gap: "1rem",
    gridTemplateColumns: "repeat(auto-fit, minmax(300px, 1fr))",
  })}>
  {
      posts.map((entry) => (
          <CardCours
            title={entry.data.title}
            date={entry.data.pubDate}
            description={entry.data.description}
            tags={entry.data.tags}
            href={`/blog/${entry.slug}/`}
          />
      ))
  }
  </div>
  </body>
</html>
